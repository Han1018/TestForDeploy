{"id":"NnrA","dependencies":[{"name":"C:\\Users\\paul5\\OneDrive\\Desktop\\can-store\\package.json","includedInParent":true,"mtime":1595844060406}],"generated":{"js":"var e;function t(){var t,o,n=document.querySelector(\"#category\"),r=document.querySelector(\"#searchTerm\"),a=document.querySelector(\"button\"),l=document.querySelector(\"main\"),c=n.value,s=\"\";function u(){if(\"\"===r.value.trim())o=t,i();else{for(var e=r.value.trim().toLowerCase(),n=0;n<t.length;n++)-1!==t[n].name.indexOf(e)&&o.push(t[n]);i()}}function i(){for(;l.firstChild;)l.removeChild(l.firstChild);if(0===o.length){var e=document.createElement(\"p\");e.textContent=\"No results to display!\",l.appendChild(e)}else for(var t=0;t<o.length;t++)d(o[t])}function d(e){var t=\"images/\"+e.image;console.log(t),fetch(t).then(function(t){t.ok?t.blob().then(function(t){var o=URL.createObjectURL(t);console.log(o),function(e,t){var o=document.createElement(\"section\"),n=document.createElement(\"h2\"),r=document.createElement(\"p\"),a=document.createElement(\"img\");o.setAttribute(\"class\",t.type),n.textContent=t.name.replace(t.name.charAt(0),t.name.charAt(0).toUpperCase()),r.textContent=\"$\"+t.price.toFixed(2),a.src=e,a.alt=t.name;try{a.onload=function(){window.URL.revokeObjectURL(a.src),console.log(\"revoke\")}}catch(c){console.log(\"ERROR\",c)}l.appendChild(o),o.appendChild(n),o.appendChild(r),o.appendChild(a),console.log(\"has load here\")}(o,e)}):console.log('Network request for \"'+e.name+'\" image failed with response '+t.status+\": \"+t.statusText)})}o=e,i(),t=[],o=[],a.onclick=function(a){if(a.preventDefault(),t=[],o=[],n.value===c&&r.value.trim()===s)return;if(c=n.value,s=r.value.trim(),\"All\"===n.value)t=e,u();else{for(var l=n.value.toLowerCase(),i=0;i<e.length;i++)e[i].type===l&&t.push(e[i]);u()}}}fetch(\"products.json\").then(function(o){o.ok?o.json().then(function(o){e=o,t()}):console.log(\"Network request for products.json failed with response \"+o.status+\": \"+o.statusText)});"},"sourceMaps":{"js":{"mappings":[{"source":"can-script.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"can-script.js","name":"products","original":{"line":2,"column":4},"generated":{"line":1,"column":4}},{"source":"can-script.js","original":{"line":19,"column":0},"generated":{"line":1,"column":6}},{"source":"can-script.js","name":"initialize","original":{"line":19,"column":9},"generated":{"line":1,"column":15}},{"source":"can-script.js","name":"category","original":{"line":21,"column":6},"generated":{"line":1,"column":19}},{"source":"can-script.js","name":"categoryGroup","original":{"line":35,"column":6},"generated":{"line":1,"column":23}},{"source":"can-script.js","name":"finalGroup","original":{"line":36,"column":6},"generated":{"line":1,"column":25}},{"source":"can-script.js","name":"category","original":{"line":21,"column":6},"generated":{"line":1,"column":27}},{"source":"can-script.js","name":"document","original":{"line":21,"column":17},"generated":{"line":1,"column":29}},{"source":"can-script.js","name":"querySelector","original":{"line":21,"column":26},"generated":{"line":1,"column":38}},{"source":"can-script.js","original":{"line":21,"column":40},"generated":{"line":1,"column":52}},{"source":"can-script.js","name":"searchTerm","original":{"line":22,"column":6},"generated":{"line":1,"column":65}},{"source":"can-script.js","name":"document","original":{"line":22,"column":19},"generated":{"line":1,"column":67}},{"source":"can-script.js","name":"querySelector","original":{"line":22,"column":28},"generated":{"line":1,"column":76}},{"source":"can-script.js","original":{"line":22,"column":42},"generated":{"line":1,"column":90}},{"source":"can-script.js","name":"searchBtn","original":{"line":23,"column":6},"generated":{"line":1,"column":105}},{"source":"can-script.js","name":"document","original":{"line":23,"column":18},"generated":{"line":1,"column":107}},{"source":"can-script.js","name":"querySelector","original":{"line":23,"column":27},"generated":{"line":1,"column":116}},{"source":"can-script.js","original":{"line":23,"column":41},"generated":{"line":1,"column":130}},{"source":"can-script.js","name":"main","original":{"line":24,"column":6},"generated":{"line":1,"column":140}},{"source":"can-script.js","name":"document","original":{"line":24,"column":13},"generated":{"line":1,"column":142}},{"source":"can-script.js","name":"querySelector","original":{"line":24,"column":22},"generated":{"line":1,"column":151}},{"source":"can-script.js","original":{"line":24,"column":36},"generated":{"line":1,"column":165}},{"source":"can-script.js","name":"lastCategory","original":{"line":27,"column":6},"generated":{"line":1,"column":173}},{"source":"can-script.js","name":"category","original":{"line":27,"column":21},"generated":{"line":1,"column":175}},{"source":"can-script.js","name":"value","original":{"line":27,"column":30},"generated":{"line":1,"column":177}},{"source":"can-script.js","name":"lastSearch","original":{"line":29,"column":6},"generated":{"line":1,"column":183}},{"source":"can-script.js","original":{"line":29,"column":19},"generated":{"line":1,"column":185}},{"source":"can-script.js","name":"selectProducts","original":{"line":98,"column":11},"generated":{"line":1,"column":188}},{"source":"can-script.js","name":"selectProducts","original":{"line":98,"column":11},"generated":{"line":1,"column":197}},{"source":"can-script.js","name":"searchTerm","original":{"line":101,"column":8},"generated":{"line":1,"column":201}},{"source":"can-script.js","original":{"line":101,"column":36},"generated":{"line":1,"column":204}},{"source":"can-script.js","name":"searchTerm","original":{"line":101,"column":8},"generated":{"line":1,"column":209}},{"source":"can-script.js","name":"value","original":{"line":101,"column":19},"generated":{"line":1,"column":211}},{"source":"can-script.js","name":"trim","original":{"line":101,"column":25},"generated":{"line":1,"column":217}},{"source":"can-script.js","name":"finalGroup","original":{"line":102,"column":6},"generated":{"line":1,"column":224}},{"source":"can-script.js","name":"categoryGroup","original":{"line":102,"column":19},"generated":{"line":1,"column":226}},{"source":"can-script.js","name":"updateDisplay","original":{"line":103,"column":6},"generated":{"line":1,"column":228}},{"source":"can-script.js","original":{"line":104,"column":11},"generated":{"line":1,"column":236}},{"source":"can-script.js","original":{"line":111,"column":11},"generated":{"line":1,"column":237}},{"source":"can-script.js","name":"lowerCaseSearchTerm","original":{"line":107,"column":10},"generated":{"line":1,"column":241}},{"source":"can-script.js","name":"lowerCaseSearchTerm","original":{"line":107,"column":10},"generated":{"line":1,"column":245}},{"source":"can-script.js","name":"searchTerm","original":{"line":107,"column":32},"generated":{"line":1,"column":247}},{"source":"can-script.js","name":"value","original":{"line":107,"column":43},"generated":{"line":1,"column":249}},{"source":"can-script.js","name":"trim","original":{"line":107,"column":49},"generated":{"line":1,"column":255}},{"source":"can-script.js","name":"toLowerCase","original":{"line":107,"column":56},"generated":{"line":1,"column":262}},{"source":"can-script.js","name":"i","original":{"line":111,"column":15},"generated":{"line":1,"column":276}},{"source":"can-script.js","original":{"line":111,"column":19},"generated":{"line":1,"column":278}},{"source":"can-script.js","name":"i","original":{"line":111,"column":22},"generated":{"line":1,"column":280}},{"source":"can-script.js","name":"categoryGroup","original":{"line":111,"column":26},"generated":{"line":1,"column":282}},{"source":"can-script.js","name":"length","original":{"line":111,"column":40},"generated":{"line":1,"column":284}},{"source":"can-script.js","name":"i","original":{"line":111,"column":48},"generated":{"line":1,"column":291}},{"source":"can-script.js","original":{"line":112,"column":68},"generated":{"line":1,"column":296}},{"source":"can-script.js","name":"categoryGroup","original":{"line":112,"column":12},"generated":{"line":1,"column":300}},{"source":"can-script.js","name":"i","original":{"line":112,"column":26},"generated":{"line":1,"column":302}},{"source":"can-script.js","name":"name","original":{"line":112,"column":29},"generated":{"line":1,"column":305}},{"source":"can-script.js","name":"indexOf","original":{"line":112,"column":34},"generated":{"line":1,"column":310}},{"source":"can-script.js","name":"lowerCaseSearchTerm","original":{"line":112,"column":42},"generated":{"line":1,"column":318}},{"source":"can-script.js","name":"finalGroup","original":{"line":113,"column":10},"generated":{"line":1,"column":322}},{"source":"can-script.js","name":"push","original":{"line":113,"column":21},"generated":{"line":1,"column":324}},{"source":"can-script.js","name":"categoryGroup","original":{"line":113,"column":26},"generated":{"line":1,"column":329}},{"source":"can-script.js","name":"i","original":{"line":113,"column":40},"generated":{"line":1,"column":331}},{"source":"can-script.js","name":"updateDisplay","original":{"line":118,"column":6},"generated":{"line":1,"column":335}},{"source":"can-script.js","name":"updateDisplay","original":{"line":124,"column":11},"generated":{"line":1,"column":340}},{"source":"can-script.js","name":"updateDisplay","original":{"line":124,"column":11},"generated":{"line":1,"column":349}},{"source":"can-script.js","name":"main","original":{"line":126,"column":11},"generated":{"line":1,"column":353}},{"source":"can-script.js","name":"main","original":{"line":126,"column":11},"generated":{"line":1,"column":358}},{"source":"can-script.js","name":"firstChild","original":{"line":126,"column":16},"generated":{"line":1,"column":360}},{"source":"can-script.js","name":"main","original":{"line":127,"column":6},"generated":{"line":1,"column":372}},{"source":"can-script.js","name":"removeChild","original":{"line":127,"column":11},"generated":{"line":1,"column":374}},{"source":"can-script.js","name":"main","original":{"line":127,"column":23},"generated":{"line":1,"column":386}},{"source":"can-script.js","name":"firstChild","original":{"line":127,"column":28},"generated":{"line":1,"column":388}},{"source":"can-script.js","name":"finalGroup","original":{"line":131,"column":8},"generated":{"line":1,"column":400}},{"source":"can-script.js","original":{"line":131,"column":30},"generated":{"line":1,"column":403}},{"source":"can-script.js","name":"finalGroup","original":{"line":131,"column":8},"generated":{"line":1,"column":407}},{"source":"can-script.js","name":"length","original":{"line":131,"column":19},"generated":{"line":1,"column":409}},{"source":"can-script.js","original":{"line":131,"column":33},"generated":{"line":1,"column":416}},{"source":"can-script.js","name":"para","original":{"line":132,"column":10},"generated":{"line":1,"column":417}},{"source":"can-script.js","name":"para","original":{"line":132,"column":10},"generated":{"line":1,"column":421}},{"source":"can-script.js","name":"document","original":{"line":132,"column":17},"generated":{"line":1,"column":423}},{"source":"can-script.js","name":"createElement","original":{"line":132,"column":26},"generated":{"line":1,"column":432}},{"source":"can-script.js","original":{"line":132,"column":40},"generated":{"line":1,"column":446}},{"source":"can-script.js","name":"para","original":{"line":133,"column":6},"generated":{"line":1,"column":451}},{"source":"can-script.js","name":"textContent","original":{"line":133,"column":11},"generated":{"line":1,"column":453}},{"source":"can-script.js","original":{"line":133,"column":25},"generated":{"line":1,"column":465}},{"source":"can-script.js","name":"main","original":{"line":134,"column":6},"generated":{"line":1,"column":490}},{"source":"can-script.js","name":"appendChild","original":{"line":134,"column":11},"generated":{"line":1,"column":492}},{"source":"can-script.js","name":"para","original":{"line":134,"column":23},"generated":{"line":1,"column":504}},{"source":"can-script.js","original":{"line":137,"column":11},"generated":{"line":1,"column":512}},{"source":"can-script.js","original":{"line":137,"column":11},"generated":{"line":1,"column":516}},{"source":"can-script.js","name":"i","original":{"line":137,"column":15},"generated":{"line":1,"column":520}},{"source":"can-script.js","original":{"line":137,"column":19},"generated":{"line":1,"column":522}},{"source":"can-script.js","name":"i","original":{"line":137,"column":22},"generated":{"line":1,"column":524}},{"source":"can-script.js","name":"finalGroup","original":{"line":137,"column":26},"generated":{"line":1,"column":526}},{"source":"can-script.js","name":"length","original":{"line":137,"column":37},"generated":{"line":1,"column":528}},{"source":"can-script.js","name":"i","original":{"line":137,"column":45},"generated":{"line":1,"column":535}},{"source":"can-script.js","name":"fetchBlob","original":{"line":138,"column":8},"generated":{"line":1,"column":539}},{"source":"can-script.js","name":"finalGroup","original":{"line":138,"column":18},"generated":{"line":1,"column":541}},{"source":"can-script.js","name":"i","original":{"line":138,"column":29},"generated":{"line":1,"column":543}},{"source":"can-script.js","name":"fetchBlob","original":{"line":146,"column":11},"generated":{"line":1,"column":547}},{"source":"can-script.js","name":"fetchBlob","original":{"line":146,"column":11},"generated":{"line":1,"column":556}},{"source":"can-script.js","name":"product","original":{"line":146,"column":21},"generated":{"line":1,"column":558}},{"source":"can-script.js","name":"url","original":{"line":148,"column":8},"generated":{"line":1,"column":561}},{"source":"can-script.js","name":"url","original":{"line":148,"column":8},"generated":{"line":1,"column":565}},{"source":"can-script.js","original":{"line":148,"column":14},"generated":{"line":1,"column":567}},{"source":"can-script.js","name":"product","original":{"line":148,"column":26},"generated":{"line":1,"column":577}},{"source":"can-script.js","name":"image","original":{"line":148,"column":34},"generated":{"line":1,"column":579}},{"source":"can-script.js","name":"console","original":{"line":149,"column":4},"generated":{"line":1,"column":585}},{"source":"can-script.js","name":"log","original":{"line":149,"column":12},"generated":{"line":1,"column":593}},{"source":"can-script.js","name":"url","original":{"line":149,"column":16},"generated":{"line":1,"column":597}},{"source":"can-script.js","name":"fetch","original":{"line":152,"column":4},"generated":{"line":1,"column":600}},{"source":"can-script.js","name":"url","original":{"line":152,"column":10},"generated":{"line":1,"column":606}},{"source":"can-script.js","name":"then","original":{"line":152,"column":15},"generated":{"line":1,"column":609}},{"source":"can-script.js","original":{"line":152,"column":20},"generated":{"line":1,"column":614}},{"source":"can-script.js","name":"response","original":{"line":152,"column":30},"generated":{"line":1,"column":623}},{"source":"can-script.js","name":"response","original":{"line":153,"column":10},"generated":{"line":1,"column":626}},{"source":"can-script.js","name":"ok","original":{"line":153,"column":19},"generated":{"line":1,"column":628}},{"source":"can-script.js","name":"response","original":{"line":154,"column":8},"generated":{"line":1,"column":631}},{"source":"can-script.js","name":"blob","original":{"line":154,"column":17},"generated":{"line":1,"column":633}},{"source":"can-script.js","name":"then","original":{"line":154,"column":24},"generated":{"line":1,"column":640}},{"source":"can-script.js","original":{"line":154,"column":29},"generated":{"line":1,"column":645}},{"source":"can-script.js","name":"blob","original":{"line":154,"column":39},"generated":{"line":1,"column":654}},{"source":"can-script.js","name":"objectURL","original":{"line":157,"column":14},"generated":{"line":1,"column":657}},{"source":"can-script.js","name":"objectURL","original":{"line":157,"column":14},"generated":{"line":1,"column":661}},{"source":"can-script.js","name":"URL","original":{"line":157,"column":26},"generated":{"line":1,"column":663}},{"source":"can-script.js","name":"createObjectURL","original":{"line":157,"column":30},"generated":{"line":1,"column":667}},{"source":"can-script.js","name":"blob","original":{"line":157,"column":46},"generated":{"line":1,"column":683}},{"source":"can-script.js","name":"console","original":{"line":158,"column":10},"generated":{"line":1,"column":686}},{"source":"can-script.js","name":"log","original":{"line":158,"column":18},"generated":{"line":1,"column":694}},{"source":"can-script.js","name":"objectURL","original":{"line":158,"column":22},"generated":{"line":1,"column":698}},{"source":"can-script.js","name":"showProduct","original":{"line":169,"column":11},"generated":{"line":1,"column":701}},{"source":"can-script.js","name":"objectURL","original":{"line":169,"column":23},"generated":{"line":1,"column":710}},{"source":"can-script.js","name":"product","original":{"line":169,"column":34},"generated":{"line":1,"column":712}},{"source":"can-script.js","name":"section","original":{"line":171,"column":8},"generated":{"line":1,"column":715}},{"source":"can-script.js","name":"section","original":{"line":171,"column":8},"generated":{"line":1,"column":719}},{"source":"can-script.js","name":"document","original":{"line":171,"column":18},"generated":{"line":1,"column":721}},{"source":"can-script.js","name":"createElement","original":{"line":171,"column":27},"generated":{"line":1,"column":730}},{"source":"can-script.js","original":{"line":171,"column":41},"generated":{"line":1,"column":744}},{"source":"can-script.js","name":"heading","original":{"line":172,"column":8},"generated":{"line":1,"column":755}},{"source":"can-script.js","name":"document","original":{"line":172,"column":18},"generated":{"line":1,"column":757}},{"source":"can-script.js","name":"createElement","original":{"line":172,"column":27},"generated":{"line":1,"column":766}},{"source":"can-script.js","original":{"line":172,"column":41},"generated":{"line":1,"column":780}},{"source":"can-script.js","name":"para","original":{"line":173,"column":8},"generated":{"line":1,"column":786}},{"source":"can-script.js","name":"document","original":{"line":173,"column":15},"generated":{"line":1,"column":788}},{"source":"can-script.js","name":"createElement","original":{"line":173,"column":24},"generated":{"line":1,"column":797}},{"source":"can-script.js","original":{"line":173,"column":38},"generated":{"line":1,"column":811}},{"source":"can-script.js","name":"image","original":{"line":174,"column":8},"generated":{"line":1,"column":816}},{"source":"can-script.js","name":"document","original":{"line":174,"column":16},"generated":{"line":1,"column":818}},{"source":"can-script.js","name":"createElement","original":{"line":174,"column":25},"generated":{"line":1,"column":827}},{"source":"can-script.js","original":{"line":174,"column":39},"generated":{"line":1,"column":841}},{"source":"can-script.js","name":"section","original":{"line":177,"column":4},"generated":{"line":1,"column":848}},{"source":"can-script.js","name":"setAttribute","original":{"line":177,"column":12},"generated":{"line":1,"column":850}},{"source":"can-script.js","original":{"line":177,"column":25},"generated":{"line":1,"column":863}},{"source":"can-script.js","name":"product","original":{"line":177,"column":34},"generated":{"line":1,"column":871}},{"source":"can-script.js","name":"type","original":{"line":177,"column":42},"generated":{"line":1,"column":873}},{"source":"can-script.js","name":"heading","original":{"line":181,"column":4},"generated":{"line":1,"column":879}},{"source":"can-script.js","name":"textContent","original":{"line":181,"column":12},"generated":{"line":1,"column":881}},{"source":"can-script.js","name":"product","original":{"line":181,"column":26},"generated":{"line":1,"column":893}},{"source":"can-script.js","name":"name","original":{"line":181,"column":34},"generated":{"line":1,"column":895}},{"source":"can-script.js","name":"replace","original":{"line":181,"column":39},"generated":{"line":1,"column":900}},{"source":"can-script.js","name":"product","original":{"line":181,"column":47},"generated":{"line":1,"column":908}},{"source":"can-script.js","name":"name","original":{"line":181,"column":55},"generated":{"line":1,"column":910}},{"source":"can-script.js","name":"charAt","original":{"line":181,"column":60},"generated":{"line":1,"column":915}},{"source":"can-script.js","original":{"line":181,"column":67},"generated":{"line":1,"column":922}},{"source":"can-script.js","name":"product","original":{"line":181,"column":71},"generated":{"line":1,"column":925}},{"source":"can-script.js","name":"name","original":{"line":181,"column":79},"generated":{"line":1,"column":927}},{"source":"can-script.js","name":"charAt","original":{"line":181,"column":84},"generated":{"line":1,"column":932}},{"source":"can-script.js","original":{"line":181,"column":91},"generated":{"line":1,"column":939}},{"source":"can-script.js","name":"toUpperCase","original":{"line":181,"column":94},"generated":{"line":1,"column":942}},{"source":"can-script.js","name":"para","original":{"line":186,"column":4},"generated":{"line":1,"column":957}},{"source":"can-script.js","name":"textContent","original":{"line":186,"column":9},"generated":{"line":1,"column":959}},{"source":"can-script.js","original":{"line":186,"column":23},"generated":{"line":1,"column":971}},{"source":"can-script.js","name":"product","original":{"line":186,"column":29},"generated":{"line":1,"column":975}},{"source":"can-script.js","name":"price","original":{"line":186,"column":37},"generated":{"line":1,"column":977}},{"source":"can-script.js","name":"toFixed","original":{"line":186,"column":43},"generated":{"line":1,"column":983}},{"source":"can-script.js","original":{"line":186,"column":51},"generated":{"line":1,"column":991}},{"source":"can-script.js","name":"image","original":{"line":189,"column":4},"generated":{"line":1,"column":994}},{"source":"can-script.js","name":"src","original":{"line":189,"column":10},"generated":{"line":1,"column":996}},{"source":"can-script.js","name":"objectURL","original":{"line":189,"column":16},"generated":{"line":1,"column":1000}},{"source":"can-script.js","name":"image","original":{"line":191,"column":4},"generated":{"line":1,"column":1002}},{"source":"can-script.js","name":"alt","original":{"line":191,"column":10},"generated":{"line":1,"column":1004}},{"source":"can-script.js","name":"product","original":{"line":191,"column":16},"generated":{"line":1,"column":1008}},{"source":"can-script.js","name":"name","original":{"line":191,"column":24},"generated":{"line":1,"column":1010}},{"source":"can-script.js","original":{"line":192,"column":8},"generated":{"line":1,"column":1015}},{"source":"can-script.js","name":"image","original":{"line":194,"column":6},"generated":{"line":1,"column":1019}},{"source":"can-script.js","name":"onload","original":{"line":194,"column":12},"generated":{"line":1,"column":1021}},{"source":"can-script.js","original":{"line":194,"column":21},"generated":{"line":1,"column":1028}},{"source":"can-script.js","name":"window","original":{"line":195,"column":8},"generated":{"line":1,"column":1039}},{"source":"can-script.js","name":"URL","original":{"line":195,"column":15},"generated":{"line":1,"column":1046}},{"source":"can-script.js","name":"revokeObjectURL","original":{"line":195,"column":19},"generated":{"line":1,"column":1050}},{"source":"can-script.js","name":"image","original":{"line":195,"column":35},"generated":{"line":1,"column":1066}},{"source":"can-script.js","name":"src","original":{"line":195,"column":41},"generated":{"line":1,"column":1068}},{"source":"can-script.js","name":"console","original":{"line":196,"column":8},"generated":{"line":1,"column":1073}},{"source":"can-script.js","name":"log","original":{"line":196,"column":16},"generated":{"line":1,"column":1081}},{"source":"can-script.js","original":{"line":196,"column":20},"generated":{"line":1,"column":1085}},{"source":"can-script.js","original":{"line":199,"column":4},"generated":{"line":1,"column":1096}},{"source":"can-script.js","name":"e","original":{"line":199,"column":11},"generated":{"line":1,"column":1102}},{"source":"can-script.js","name":"console","original":{"line":200,"column":6},"generated":{"line":1,"column":1105}},{"source":"can-script.js","name":"log","original":{"line":200,"column":14},"generated":{"line":1,"column":1113}},{"source":"can-script.js","original":{"line":200,"column":18},"generated":{"line":1,"column":1117}},{"source":"can-script.js","name":"e","original":{"line":200,"column":27},"generated":{"line":1,"column":1125}},{"source":"can-script.js","name":"main","original":{"line":203,"column":4},"generated":{"line":1,"column":1128}},{"source":"can-script.js","name":"appendChild","original":{"line":203,"column":9},"generated":{"line":1,"column":1130}},{"source":"can-script.js","name":"section","original":{"line":203,"column":21},"generated":{"line":1,"column":1142}},{"source":"can-script.js","name":"section","original":{"line":205,"column":4},"generated":{"line":1,"column":1145}},{"source":"can-script.js","name":"appendChild","original":{"line":205,"column":12},"generated":{"line":1,"column":1147}},{"source":"can-script.js","name":"heading","original":{"line":205,"column":24},"generated":{"line":1,"column":1159}},{"source":"can-script.js","name":"section","original":{"line":206,"column":4},"generated":{"line":1,"column":1162}},{"source":"can-script.js","name":"appendChild","original":{"line":206,"column":12},"generated":{"line":1,"column":1164}},{"source":"can-script.js","name":"para","original":{"line":206,"column":24},"generated":{"line":1,"column":1176}},{"source":"can-script.js","name":"section","original":{"line":207,"column":4},"generated":{"line":1,"column":1179}},{"source":"can-script.js","name":"appendChild","original":{"line":207,"column":12},"generated":{"line":1,"column":1181}},{"source":"can-script.js","name":"image","original":{"line":207,"column":24},"generated":{"line":1,"column":1193}},{"source":"can-script.js","name":"console","original":{"line":208,"column":4},"generated":{"line":1,"column":1196}},{"source":"can-script.js","name":"log","original":{"line":208,"column":12},"generated":{"line":1,"column":1204}},{"source":"can-script.js","original":{"line":208,"column":16},"generated":{"line":1,"column":1208}},{"source":"can-script.js","name":"showProduct","original":{"line":160,"column":10},"generated":{"line":1,"column":1225}},{"source":"can-script.js","name":"objectURL","original":{"line":160,"column":22},"generated":{"line":1,"column":1226}},{"source":"can-script.js","name":"product","original":{"line":160,"column":33},"generated":{"line":1,"column":1228}},{"source":"can-script.js","name":"console","original":{"line":163,"column":8},"generated":{"line":1,"column":1233}},{"source":"can-script.js","name":"log","original":{"line":163,"column":16},"generated":{"line":1,"column":1241}},{"source":"can-script.js","original":{"line":163,"column":20},"generated":{"line":1,"column":1245}},{"source":"can-script.js","name":"product","original":{"line":163,"column":46},"generated":{"line":1,"column":1269}},{"source":"can-script.js","name":"name","original":{"line":163,"column":54},"generated":{"line":1,"column":1271}},{"source":"can-script.js","original":{"line":163,"column":61},"generated":{"line":1,"column":1276}},{"source":"can-script.js","name":"response","original":{"line":163,"column":95},"generated":{"line":1,"column":1308}},{"source":"can-script.js","name":"status","original":{"line":163,"column":104},"generated":{"line":1,"column":1310}},{"source":"can-script.js","original":{"line":163,"column":113},"generated":{"line":1,"column":1317}},{"source":"can-script.js","name":"response","original":{"line":163,"column":120},"generated":{"line":1,"column":1322}},{"source":"can-script.js","name":"statusText","original":{"line":163,"column":129},"generated":{"line":1,"column":1324}},{"source":"can-script.js","name":"finalGroup","original":{"line":40,"column":2},"generated":{"line":1,"column":1338}},{"source":"can-script.js","name":"products","original":{"line":40,"column":15},"generated":{"line":1,"column":1340}},{"source":"can-script.js","name":"updateDisplay","original":{"line":41,"column":2},"generated":{"line":1,"column":1342}},{"source":"can-script.js","name":"categoryGroup","original":{"line":44,"column":2},"generated":{"line":1,"column":1346}},{"source":"can-script.js","original":{"line":44,"column":18},"generated":{"line":1,"column":1348}},{"source":"can-script.js","name":"finalGroup","original":{"line":45,"column":2},"generated":{"line":1,"column":1351}},{"source":"can-script.js","original":{"line":45,"column":15},"generated":{"line":1,"column":1353}},{"source":"can-script.js","name":"searchBtn","original":{"line":49,"column":2},"generated":{"line":1,"column":1356}},{"source":"can-script.js","name":"onclick","original":{"line":49,"column":12},"generated":{"line":1,"column":1358}},{"source":"can-script.js","name":"selectCategory","original":{"line":51,"column":11},"generated":{"line":1,"column":1366}},{"source":"can-script.js","name":"e","original":{"line":51,"column":26},"generated":{"line":1,"column":1375}},{"source":"can-script.js","name":"category","original":{"line":63,"column":8},"generated":{"line":1,"column":1378}},{"source":"can-script.js","name":"e","original":{"line":54,"column":4},"generated":{"line":1,"column":1381}},{"source":"can-script.js","name":"preventDefault","original":{"line":54,"column":6},"generated":{"line":1,"column":1383}},{"source":"can-script.js","name":"categoryGroup","original":{"line":57,"column":4},"generated":{"line":1,"column":1400}},{"source":"can-script.js","original":{"line":57,"column":20},"generated":{"line":1,"column":1402}},{"source":"can-script.js","name":"finalGroup","original":{"line":58,"column":4},"generated":{"line":1,"column":1405}},{"source":"can-script.js","original":{"line":58,"column":17},"generated":{"line":1,"column":1407}},{"source":"can-script.js","name":"category","original":{"line":63,"column":8},"generated":{"line":1,"column":1410}},{"source":"can-script.js","name":"value","original":{"line":63,"column":17},"generated":{"line":1,"column":1412}},{"source":"can-script.js","name":"lastCategory","original":{"line":63,"column":27},"generated":{"line":1,"column":1420}},{"source":"can-script.js","name":"searchTerm","original":{"line":63,"column":43},"generated":{"line":1,"column":1423}},{"source":"can-script.js","name":"value","original":{"line":63,"column":54},"generated":{"line":1,"column":1425}},{"source":"can-script.js","name":"trim","original":{"line":63,"column":60},"generated":{"line":1,"column":1431}},{"source":"can-script.js","name":"lastSearch","original":{"line":63,"column":71},"generated":{"line":1,"column":1440}},{"source":"can-script.js","original":{"line":64,"column":6},"generated":{"line":1,"column":1442}},{"source":"can-script.js","name":"category","original":{"line":71,"column":10},"generated":{"line":1,"column":1449}},{"source":"can-script.js","name":"lastCategory","original":{"line":67,"column":6},"generated":{"line":1,"column":1452}},{"source":"can-script.js","name":"category","original":{"line":67,"column":21},"generated":{"line":1,"column":1454}},{"source":"can-script.js","name":"value","original":{"line":67,"column":30},"generated":{"line":1,"column":1456}},{"source":"can-script.js","name":"lastSearch","original":{"line":68,"column":6},"generated":{"line":1,"column":1462}},{"source":"can-script.js","name":"searchTerm","original":{"line":68,"column":19},"generated":{"line":1,"column":1464}},{"source":"can-script.js","name":"value","original":{"line":68,"column":30},"generated":{"line":1,"column":1466}},{"source":"can-script.js","name":"trim","original":{"line":68,"column":36},"generated":{"line":1,"column":1472}},{"source":"can-script.js","original":{"line":71,"column":29},"generated":{"line":1,"column":1479}},{"source":"can-script.js","name":"category","original":{"line":71,"column":10},"generated":{"line":1,"column":1487}},{"source":"can-script.js","name":"value","original":{"line":71,"column":19},"generated":{"line":1,"column":1489}},{"source":"can-script.js","name":"categoryGroup","original":{"line":72,"column":8},"generated":{"line":1,"column":1495}},{"source":"can-script.js","name":"products","original":{"line":72,"column":24},"generated":{"line":1,"column":1497}},{"source":"can-script.js","name":"selectProducts","original":{"line":73,"column":8},"generated":{"line":1,"column":1499}},{"source":"can-script.js","original":{"line":77,"column":13},"generated":{"line":1,"column":1507}},{"source":"can-script.js","original":{"line":82,"column":13},"generated":{"line":1,"column":1508}},{"source":"can-script.js","name":"lowerCaseType","original":{"line":81,"column":12},"generated":{"line":1,"column":1512}},{"source":"can-script.js","name":"lowerCaseType","original":{"line":81,"column":12},"generated":{"line":1,"column":1516}},{"source":"can-script.js","name":"category","original":{"line":81,"column":28},"generated":{"line":1,"column":1518}},{"source":"can-script.js","name":"value","original":{"line":81,"column":37},"generated":{"line":1,"column":1520}},{"source":"can-script.js","name":"toLowerCase","original":{"line":81,"column":43},"generated":{"line":1,"column":1526}},{"source":"can-script.js","name":"i","original":{"line":82,"column":17},"generated":{"line":1,"column":1540}},{"source":"can-script.js","original":{"line":82,"column":21},"generated":{"line":1,"column":1542}},{"source":"can-script.js","name":"i","original":{"line":82,"column":24},"generated":{"line":1,"column":1544}},{"source":"can-script.js","name":"products","original":{"line":82,"column":28},"generated":{"line":1,"column":1546}},{"source":"can-script.js","name":"length","original":{"line":82,"column":37},"generated":{"line":1,"column":1548}},{"source":"can-script.js","name":"i","original":{"line":82,"column":45},"generated":{"line":1,"column":1555}},{"source":"can-script.js","name":"products","original":{"line":85,"column":14},"generated":{"line":1,"column":1559}},{"source":"can-script.js","name":"i","original":{"line":85,"column":23},"generated":{"line":1,"column":1561}},{"source":"can-script.js","name":"type","original":{"line":85,"column":26},"generated":{"line":1,"column":1564}},{"source":"can-script.js","name":"lowerCaseType","original":{"line":85,"column":35},"generated":{"line":1,"column":1571}},{"source":"can-script.js","name":"categoryGroup","original":{"line":86,"column":12},"generated":{"line":1,"column":1574}},{"source":"can-script.js","name":"push","original":{"line":86,"column":26},"generated":{"line":1,"column":1576}},{"source":"can-script.js","name":"products","original":{"line":86,"column":31},"generated":{"line":1,"column":1581}},{"source":"can-script.js","name":"i","original":{"line":86,"column":40},"generated":{"line":1,"column":1583}},{"source":"can-script.js","name":"selectProducts","original":{"line":91,"column":8},"generated":{"line":1,"column":1587}},{"source":"can-script.js","name":"fetch","original":{"line":7,"column":0},"generated":{"line":1,"column":1593}},{"source":"can-script.js","original":{"line":7,"column":6},"generated":{"line":1,"column":1599}},{"source":"can-script.js","name":"then","original":{"line":7,"column":23},"generated":{"line":1,"column":1616}},{"source":"can-script.js","original":{"line":7,"column":28},"generated":{"line":1,"column":1621}},{"source":"can-script.js","name":"response","original":{"line":7,"column":38},"generated":{"line":1,"column":1630}},{"source":"can-script.js","name":"response","original":{"line":8,"column":6},"generated":{"line":1,"column":1633}},{"source":"can-script.js","name":"ok","original":{"line":8,"column":15},"generated":{"line":1,"column":1635}},{"source":"can-script.js","name":"response","original":{"line":9,"column":4},"generated":{"line":1,"column":1638}},{"source":"can-script.js","name":"json","original":{"line":9,"column":13},"generated":{"line":1,"column":1640}},{"source":"can-script.js","name":"then","original":{"line":9,"column":20},"generated":{"line":1,"column":1647}},{"source":"can-script.js","original":{"line":9,"column":25},"generated":{"line":1,"column":1652}},{"source":"can-script.js","name":"json","original":{"line":9,"column":35},"generated":{"line":1,"column":1661}},{"source":"can-script.js","name":"products","original":{"line":10,"column":6},"generated":{"line":1,"column":1664}},{"source":"can-script.js","name":"json","original":{"line":10,"column":17},"generated":{"line":1,"column":1666}},{"source":"can-script.js","name":"initialize","original":{"line":11,"column":6},"generated":{"line":1,"column":1668}},{"source":"can-script.js","name":"console","original":{"line":14,"column":4},"generated":{"line":1,"column":1674}},{"source":"can-script.js","name":"log","original":{"line":14,"column":12},"generated":{"line":1,"column":1682}},{"source":"can-script.js","original":{"line":14,"column":16},"generated":{"line":1,"column":1686}},{"source":"can-script.js","name":"response","original":{"line":14,"column":76},"generated":{"line":1,"column":1744}},{"source":"can-script.js","name":"status","original":{"line":14,"column":85},"generated":{"line":1,"column":1746}},{"source":"can-script.js","original":{"line":14,"column":94},"generated":{"line":1,"column":1753}},{"source":"can-script.js","name":"response","original":{"line":14,"column":101},"generated":{"line":1,"column":1758}},{"source":"can-script.js","name":"statusText","original":{"line":14,"column":110},"generated":{"line":1,"column":1760}}],"sources":{"can-script.js":"// create a variable to store the products 'database' in\nvar products;\n\n// use fetch to retrieve it, and report any errors that occur in the fetch operation\n// once the products have been successfully loaded and formatted as a JSON object\n// using response.json(), run the initialize() function\nfetch('products.json').then(function (response) {\n  if (response.ok) {\n    response.json().then(function (json) {\n      products = json;\n      initialize();\n    });\n  } else {\n    console.log('Network request for products.json failed with response ' + response.status + ': ' + response.statusText);\n  }\n});\n\n// sets up the app logic, declares required variables, contains all the other functions\nfunction initialize() {\n  // grab the UI elements that we need to manipulate\n  var category = document.querySelector('#category');\n  var searchTerm = document.querySelector('#searchTerm');\n  var searchBtn = document.querySelector('button');\n  var main = document.querySelector('main');\n\n  // keep a record of what the last category and search term entered were\n  var lastCategory = category.value;\n  // no search has been made yet\n  var lastSearch = '';\n\n  // these contain the results of filtering by category, and search term\n  // finalGroup will contain the products that need to be displayed after\n  // the searching has been done. Each will be an array containing objects.\n  // Each object will represent a product\n  var categoryGroup;\n  var finalGroup;\n\n  // To start with, set finalGroup to equal the entire products database\n  // then run updateDisplay(), so ALL products are displayed initially.\n  finalGroup = products;\n  updateDisplay();\n\n  // Set both to equal an empty array, in time for searches to be run\n  categoryGroup = [];\n  finalGroup = [];\n\n  // when the search button is clicked, invoke selectCategory() to start\n  // a search running to select the category of products we want to display\n  searchBtn.onclick = selectCategory;\n\n  function selectCategory(e) {\n    // Use preventDefault() to stop the form submitting — that would ruin\n    // the experience\n    e.preventDefault();\n\n    // Set these back to empty arrays, to clear out the previous search\n    categoryGroup = [];\n    finalGroup = [];\n\n    // if the category and search term are the same as they were the last time a\n    // search was run, the results will be the same, so there is no point running\n    // it again — just return out of the function\n    if (category.value === lastCategory && searchTerm.value.trim() === lastSearch) {\n      return;\n    } else {\n      // update the record of last category and search term\n      lastCategory = category.value;\n      lastSearch = searchTerm.value.trim();\n      // In this case we want to select all products, then filter them by the search\n      // term, so we just set categoryGroup to the entire JSON object, then run selectProducts()\n      if (category.value === 'All') {\n        categoryGroup = products;\n        selectProducts();\n        // If a specific category is chosen, we need to filter out the products not in that\n        // category, then put the remaining products inside categoryGroup, before running\n        // selectProducts()\n      } else {\n        // the values in the <option> elements are uppercase, whereas the categories\n        // store in the JSON (under \"type\") are lowercase. We therefore need to convert\n        // to lower case before we do a comparison\n        var lowerCaseType = category.value.toLowerCase();\n        for (var i = 0; i < products.length; i++) {\n          // If a product's type property is the same as the chosen category, we want to\n          // dispay it, so we push it onto the categoryGroup array\n          if (products[i].type === lowerCaseType) {\n            categoryGroup.push(products[i]);\n          }\n        }\n\n        // Run selectProducts() after the filtering has bene done\n        selectProducts();\n      }\n    }\n  }\n\n  // selectProducts() Takes the group of products selected by selectCategory(), and further\n  // filters them by the tnered search term (if one has bene entered)\n  function selectProducts() {\n    // If no search term has been entered, just make the finalGroup array equal to the categoryGroup\n    // array — we don't want to filter the products further — then run updateDisplay().\n    if (searchTerm.value.trim() === '') {\n      finalGroup = categoryGroup;\n      updateDisplay();\n    } else {\n      // Make sure the search term is converted to lower case before comparison. We've kept the\n      // product names all lower case to keep things simple\n      var lowerCaseSearchTerm = searchTerm.value.trim().toLowerCase();\n      // For each product in categoryGroup, see if the search term is contained inside the product name\n      // (if the indexOf() result doesn't return -1, it means it is) — if it is, then push the product\n      // onto the finalGroup array\n      for (var i = 0; i < categoryGroup.length; i++) {\n        if (categoryGroup[i].name.indexOf(lowerCaseSearchTerm) !== -1) {\n          finalGroup.push(categoryGroup[i]);\n        }\n      }\n\n      // run updateDisplay() after this second round of filtering has been done\n      updateDisplay();\n    }\n\n  }\n\n  // start the process of updating the display with the new set of products\n  function updateDisplay() {\n    // remove the previous contents of the <main> element\n    while (main.firstChild) {\n      main.removeChild(main.firstChild);\n    }\n\n    // if no products match the search term, display a \"No results to display\" message\n    if (finalGroup.length === 0) {\n      var para = document.createElement('p');\n      para.textContent = 'No results to display!';\n      main.appendChild(para);\n      // for each product we want to display, pass its product object to fetchBlob()\n    } else {\n      for (var i = 0; i < finalGroup.length; i++) {\n        fetchBlob(finalGroup[i]);\n      }\n    }\n  }\n\n  // fetchBlob uses fetch to retrieve the image for that product, and then sends the\n  // resulting image display URL and product object on to showProduct() to finally\n  // display it\n  function fetchBlob(product) {\n    // construct the URL path to the image file from the product.image property\n    var url = 'images/' + product.image;\n    console.log(url);\n    // Use fetch to fetch the image, and convert the resulting response to a blob\n    // Again, if any errors occur we report them in the console.\n    fetch(url).then(function (response) {\n      if (response.ok) {\n        response.blob().then(function (blob) {\n          // Convert the blob to an object URL — this is basically an temporary internal URL\n          // that points to an object stored inside the browser\n          var objectURL = URL.createObjectURL(blob);\n          console.log(objectURL);\n          // invoke showProduct\n          showProduct(objectURL, product);\n        });\n      } else {\n        console.log('Network request for \"' + product.name + '\" image failed with response ' + response.status + ': ' + response.statusText);\n      }\n    });\n  }\n\n  // Display a product inside the <main> element\n  function showProduct(objectURL, product) {\n    // create <section>, <h2>, <p>, and <img> elements\n    var section = document.createElement('section');\n    var heading = document.createElement('h2');\n    var para = document.createElement('p');\n    var image = document.createElement('img');\n\n    // give the <section> a classname equal to the product \"type\" property so it will display the correct icon\n    section.setAttribute('class', product.type);\n\n    // Give the <h2> textContent equal to the product \"name\" property, but with the first character\n    // replaced with the uppercase version of the first character\n    heading.textContent = product.name.replace(product.name.charAt(0), product.name.charAt(0).toUpperCase());\n\n    // Give the <p> textContent equal to the product \"price\" property, with a $ sign in front\n    // toFixed(2) is used to fix the price at 2 decimal places, so for example 1.40 is displayed\n    // as 1.40, not 1.4.\n    para.textContent = '$' + product.price.toFixed(2);\n\n    // Set the src of the <img> element to the ObjectURL, and the alt to the product \"name\" property\n    image.src = objectURL;\n\n    image.alt = product.name;\n    try {\n\n      image.onload = function () {\n        window.URL.revokeObjectURL(image.src);\n        console.log(\"revoke\");\n      }\n    }\n    catch (e) {\n      console.log(\"ERROR\", e);\n    }\n    // append the elements to the DOM as appropriate, to add the product to the UI\n    main.appendChild(section);\n\n    section.appendChild(heading);\n    section.appendChild(para);\n    section.appendChild(image);\n    console.log(\"has load here\")\n\n\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"71bd3ffc99d1da544233f38ee55ae8df","cacheData":{"env":{}}}